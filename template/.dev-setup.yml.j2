# User configuration - Independent variables only
# This file contains only variables that are not computed from other variables
# In combination with the .dev-setup/.dev-setup.computed.yml file, it will serve as the context for the template files.

package_name: "{{ args.package_name }}"
environment: "{{ args.environment }}"
version: "{{ args.version | default('1.0') }}"

# Docker registry configuration
docker:
    registry:
        url: "container-registry.gitlab.cc-asp.fraunhofer.de"
        path: "multirobot"
#   -- example for additional docker run arguments
#    runArgs:
#        - "--cap-add=sys_nice"
#        - "--ulimit=rtprio=99"
#        - "--ulimit=memlock=-1"
#        - "--publish=15000:15000/udp"
#        - "--publish=15000:15000"

# Development container features
devcontainer:
    feature:
        packages: "ssh,curl,nano,python3-pip,git"
        desktop_lite: {{ args.devcontainer.feature.desktop_lite | default(false) }}
    vscode:
        extensions: 
            - "ms-python.python"
            - "ms-vscode.cpptools-extension-pack"
            - "ms-vscode.cmake-tools"
            - "redhat.vscode-xml"
            - "mhutchie.git-graph"
            - "ms-azuretools.vscode-docker"
            - "mtsmfm.vscode-stl-viewer"
            - "cschlosser.doxdocgen"
            - "samuelcolvin.jinjahtml"
            {% if args.environment.startswith('ros') -%}
            {% endif %}

entrypoint:
    {% if args.environment == 'ros.humble' -%}
    source: 
        - "/opt/ros/humble/setup.bash"
        - "/opt/dev-setup/conan/conanrosenv.sh"
        - "/workspace/install/setup.bash"
    {% elif args.environment == 'ros.noetic' -%}
    source:
        - "/opt/ros/noetic/setup.bash"
        - "/workspace/devel/setup.bash"
    {% else -%}
    source: []
    {% endif %}