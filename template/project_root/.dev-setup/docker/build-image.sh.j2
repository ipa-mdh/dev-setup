#!/bin/bash
# WARNING: This file was auto-generated by dev-setup/setup.py.

{% for key, cfg in args.dockerfile.items() %}
    {%- if cfg.build %}
# ------- {{ key }} -------
# Build the {{ key }} image
# -------------------------
docker build --file .dev-setup/docker/Dockerfile.{{ key }} \
    {%- if cfg.build_arguments is defined %}
        {%- for arg_key, arg_value in cfg.build_arguments.items() %}
    --{{arg_key}} {{ arg_value }} \
        {%- endfor %}
    {%- endif %}
    --tag {{ cfg.tag }} \
    .
        {%- if cfg.registry is defined %}
docker tag {{ cfg.tag }} {{ cfg.registry.tag }}
        {%- endif %}
    {%- endif %}
{% endfor %}
